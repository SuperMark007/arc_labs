

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ARC features: timer and auxiliary registers &mdash; ARC Labs 2018.09 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ARC features: interrupts" href="lab4.html" />
    <link rel="prev" title="How to use embARC OSP" href="lab2.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ARC Labs
          

          
          </a>

          
            
            
              <div class="version">
                2018.09
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../labs.html">Labs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../labs.html#overview">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../labs.html#id2">Labs</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../level1.html">Level 1 Labs</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="lab1.html">How to Use ARC IDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="lab2.html">How to use embARC OSP</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ARC features: timer and auxiliary registers</a></li>
<li class="toctree-l4"><a class="reference internal" href="lab4.html">ARC features: interrupts</a></li>
<li class="toctree-l4"><a class="reference internal" href="lab5.html">How to use ARC board</a></li>
<li class="toctree-l4"><a class="reference internal" href="lab6.html">A simple bootloader</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../level2.html">Level 2 Labs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../level3.html">Level 3 Labs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/appendix.html">Appendix</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ARC Labs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../labs.html">Labs</a> &raquo;</li>
        
          <li><a href="../level1.html">Level 1 Labs</a> &raquo;</li>
        
      <li>ARC features: timer and auxiliary registers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/labs/level1/lab3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arc-features-timer-and-auxiliary-registers">
<span id="lab3"></span><h1>ARC features: timer and auxiliary registers<a class="headerlink" href="#arc-features-timer-and-auxiliary-registers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>To know about internal timer of DesignWare® ARC® processors</li>
<li>To learn how to program auxiliary registers to control the timer</li>
<li>Read the count value of the timer, and implement a time clock by the timer</li>
</ul>
</div>
<div class="section" id="equipment">
<h2>Equipment<a class="headerlink" href="#equipment" title="Permalink to this headline">¶</a></h2>
<p>The following hardware and tools are required:</p>
<ul class="simple">
<li>PC host</li>
<li>GNU Toolchain for ARC Processors / MetaWare Development Toolkit</li>
<li>ARC board (EM Starter Kit / IoT Development Kit)</li>
<li><code class="docutils literal notranslate"><span class="pre">embarc_osp/arc_labs/labs/lab3_timer</span></code></li>
</ul>
</div>
<div class="section" id="content">
<h2>Content<a class="headerlink" href="#content" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Read the auxiliary registers of DesignWare® ARC® processors to get the version and other setting information of the timer resource.</li>
<li>As all DesignWare® ARC® processors have <strong>Timer0</strong>, the <strong>Timer0</strong> is used in this lab, and write the auxiliary registers to initialize, start and stop the timer.</li>
<li>By reading the count value of the timer, the execution time of a code block is calculated with the count value and the clock frequency.</li>
</ul>
</div>
<div class="section" id="principles">
<h2>Principles<a class="headerlink" href="#principles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction-of-internal-timer-and-auxiliary-registers">
<h3>Introduction of internal Timer and Auxiliary registers<a class="headerlink" href="#introduction-of-internal-timer-and-auxiliary-registers" title="Permalink to this headline">¶</a></h3>
<p>Timers in DesignWare® ARC® processors</p>
<ul class="simple">
<li>Two 32-bits programmable timers <strong>Timer0</strong> and <strong>Timer1</strong></li>
<li>One 64-bits <strong>RTC</strong> (Real-Time Counter)</li>
</ul>
<p>All the times are configurable, for example, there are four DesignWare® ARC® processors cores in <strong>ARC EMSK1.1</strong>, the configuration information is as followed.</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="12%" />
<col width="26%" />
<col width="12%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Timer</th>
<th class="head">EM4</th>
<th class="head">EM4_16CR</th>
<th class="head">EM4</th>
<th class="head">EM4_16CR</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HAS_TIMER0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>HAS_TIMER1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="row-even"><td>RTC_OPTION</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>The auxiliary register Timer BCR stores the timer resource information of an ARC EM processor core, the register address of <strong>TIMER_BUILD</strong> is <em>0x75</em>.</p>
<p><strong>TIMER_BUILD</strong></p>
<img alt="register bit" src="../../_images/lab3_register_TIMER_BUILD.png" />
<p>As described earlier, the timer resources in the ARC EM processor can be configured, the timer’s configuration information and controlling of the timers can be done by writing and reading the auxiliary register of that timer. For example, the following table shows the related auxiliary registers of the <strong>Timer0</strong>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="14%" />
<col width="16%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Auxiliary Register</th>
<th class="head">Name</th>
<th class="head">Permission</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x21</td>
<td>COUNT0</td>
<td>RW</td>
<td>Processor timer 0 count value</td>
</tr>
<tr class="row-odd"><td>0x22</td>
<td>CONTROL0</td>
<td>RW</td>
<td>Processor timer 0 control value</td>
</tr>
<tr class="row-even"><td>0x23</td>
<td>LIMIT0</td>
<td>RW</td>
<td>Processor timer 0 limit value</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="program-flow-chart">
<h3>Program flow chart<a class="headerlink" href="#program-flow-chart" title="Permalink to this headline">¶</a></h3>
<img alt="program flow chart" src="../../_images/lab3_program_flow_chart.png" />
</div>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="makefile-configuration">
<h3>Makefile configuration<a class="headerlink" href="#makefile-configuration" title="Permalink to this headline">¶</a></h3>
<p>There are two ways to configure the internal timers.</p>
<p><strong>First</strong>, configure by compiling command, for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make BOARD=iotdk BD_VER=10 CUR_CORE=arcem9d -j4 TOOLCHAIN=gnu run</span>
</pre></div>
</div>
<p><strong>Second</strong>, configured by modifying the makefile. Here, the compile command is simple, for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make -j4 run</span>
</pre></div>
</div>
<p>Open the folder <code class="docutils literal notranslate"><span class="pre">embarc_osp/arc_labs/labs/lab3_timer</span></code>, and open the <code class="docutils literal notranslate"><span class="pre">makefile</span></code>, here is the default configuration.</p>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c"># Application name</span>
<span class="nv">APPL</span> <span class="o">?=</span> lab3_timer

<span class="c">##</span>
<span class="c"># Current Board And Core</span>
<span class="c">##</span>
<span class="nv">BOARD</span> <span class="o">?=</span> iotdk
<span class="nv">BD_VER</span> <span class="o">?=</span> <span class="m">10</span>
<span class="nv">CUR_CORE</span> <span class="o">?=</span> arcem9d

<span class="c">##</span>
<span class="c"># Set toolchain</span>
<span class="c">##</span>
<span class="nv">TOOLCHAIN</span> <span class="o">?=</span> gnu

<span class="c">#</span>
<span class="c"># root dir of embARC</span>
<span class="c">#</span>
<span class="nv">EMBARC_ROOT</span> <span class="o">=</span> ../../..

<span class="nv">MID_SEL</span> <span class="o">=</span> common

<span class="c"># application source dirs</span>
<span class="nv">APPL_CSRC_DIR</span> <span class="o">=</span> .
<span class="nv">APPL_ASMSRC_DIR</span> <span class="o">=</span> .

<span class="c"># application include dirs</span>
<span class="nv">APPL_INC_DIR</span> <span class="o">=</span> .
</pre></div>
</div>
<ul class="simple">
<li>Reconfigure <strong>BOARD</strong> and <strong>CUR_CORE</strong>, in this lab, the launch board <em>iotdk</em> is used.</li>
</ul>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c">##</span>
<span class="c"># Current Board And Core</span>
<span class="c">##</span>
<span class="nv">BOARD</span> <span class="o">?=</span> iotdk
<span class="nv">BD_VER</span> <span class="o">?=</span> <span class="m">10</span>
<span class="nv">CUR_CORE</span> <span class="o">?=</span> arcem9d
</pre></div>
</div>
<ul class="simple">
<li>Reconfigure <strong>TOOLCHAIN</strong>, select the toolchain <em>gnu</em> or <em>metaware</em> you used</li>
</ul>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c">##</span>
<span class="c"># Set toolchain</span>
<span class="c">##</span>
<span class="nv">TOOLCHAIN</span> <span class="o">?=</span> gnu
</pre></div>
</div>
<ul class="simple">
<li>Reconfigure <strong>EMBARC_ROOT</strong>, make sure the relative path between <em>embARC OSP</em> root folder and the <em>timer</em> folder is correct.</li>
</ul>
<div class="highlight-makefile notranslate"><div class="highlight"><pre><span></span><span class="c">#</span>
<span class="c"># root dir of embARC</span>
<span class="c">#</span>
<span class="nv">EMBARC_ROOT</span> <span class="o">=</span> ../../..
</pre></div>
</div>
</div>
<div class="section" id="main-code">
<h3>Main code<a class="headerlink" href="#main-code" title="Permalink to this headline">¶</a></h3>
<div class="section" id="read-auxiliary-register-bcr-build">
<h4>Read auxiliary register BCR_BUILD<a class="headerlink" href="#read-auxiliary-register-bcr-build" title="Permalink to this headline">¶</a></h4>
<p>The function <code class="docutils literal notranslate"><span class="pre">_arc_aux_read()</span></code> can be used to read the auxiliary register for the timer resource information.</p>
<p>Read auxiliary register <strong>TIMER_BUILD</strong>. In the register <strong>TIMER_BUILD</strong>, the lower 8 bits indicate the core version information, the bit 9 indicate the <strong>Timer0</strong>, the bit 10 indicate the <strong>Timer1</strong>, and the bit 11 indicate the <strong>RTC</strong>. Here is the code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span> <span class="n">bcr</span> <span class="o">=</span> <span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_BCR_TIMERS</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">timer0_flag</span><span class="o">=</span><span class="p">(</span><span class="n">bcr</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">timer1_flag</span><span class="o">=</span><span class="p">(</span><span class="n">bcr</span> <span class="o">&gt;&gt;</span> <span class="mi">9</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">RTC_flag</span><span class="o">=</span><span class="p">(</span><span class="n">bcr</span> <span class="o">&gt;&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>Read timer related auxiliary registers, for example, the <strong>Timer0</strong>. Here is the code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">EMBARC_PRINTF</span><span class="p">(</span><span class="s">&quot;Does this timer0 exist?  YES</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="cm">/*Read auxiliary register configuration information*/</span>
<span class="n">EMBARC_PRINTF</span><span class="p">(</span><span class="s">&quot;timer0&#39;s operating mode:0x%08x</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_TIMER0_CTRL</span><span class="p">));</span>
<span class="n">EMBARC_PRINTF</span><span class="p">(</span><span class="s">&quot;timer0&#39;s limit value :0x%08x</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_TIMER0_LIMIT</span><span class="p">));</span>
<span class="n">EMBARC_PRINTF</span><span class="p">(</span><span class="s">&quot;timer0&#39;s current cnt_number:0x%08x</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_TIMER0_CNT</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="stop-set-start-the-timer0">
<h4>Stop-Set-Start the Timer0<a class="headerlink" href="#stop-set-start-the-timer0" title="Permalink to this headline">¶</a></h4>
<p>The function <code class="docutils literal notranslate"><span class="pre">_arc_aux_write()</span></code> can be used to write the auxiliary register.</p>
<p>To control <strong>Timer0</strong> with the related auxiliary registers.</p>
<ul class="simple">
<li><strong>COUNT0</strong>: write this register to set the initial value of the <strong>Timer0</strong>. It increases from the set value at anytime you write this register.</li>
<li><strong>CONTROL0</strong>: write this register to update the control modes of the <strong>Timer0</strong>.</li>
<li><strong>LIMIT0</strong>: write this register to set the limit value of the <strong>Timer0</strong>, the limit value is the value after which an interrupt or a reset must be generated.</li>
</ul>
<p>In this lab, timer should be stopped before setting and starting it, the function <code class="docutils literal notranslate"><span class="pre">timer_stop()</span></code> is already encapsulated in embARC OSP, you can use this function or directly write the register. Set the timer work mode, enable interrupt or not, set the limit value, and then start the timer. Here is the code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Stop it first since it might be enabled before */</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_CTRL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_LIMIT</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_CNT</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="cm">/* This is a example about timer0&#39;s timer function. */</span>
<span class="kt">uint32_t</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">TIMER_CTRL_NH</span><span class="p">;</span><span class="cm">/*Timing without triggering interruption.*/</span>
<span class="kt">uint32_t</span> <span class="n">val</span> <span class="o">=</span> <span class="n">MAX_COUNT</span><span class="p">;</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_CNT</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_LIMIT</span><span class="p">,</span><span class="n">val</span><span class="p">);</span>
<span class="cm">/* start the specific timer */</span>
<span class="n">_arc_aux_write</span><span class="p">(</span><span class="n">AUX_TIMER0_CTRL</span><span class="p">,</span><span class="n">mode</span><span class="p">);</span>
</pre></div>
</div>
<p>When the timer is running, the count value of the timer can be read and calculate the execution time of a code block. Here is the code:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span> <span class="n">start_cnt</span><span class="o">=</span><span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_TIMER0_CNT</span><span class="p">);</span>
<span class="cm">/**</span>
<span class="cm"> * code block</span>
<span class="cm"> */</span>
<span class="kt">uint32_t</span> <span class="n">end_cnt</span><span class="o">=</span><span class="n">_arc_aux_read</span><span class="p">(</span><span class="n">AUX_TIMER0_CNT</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">time</span><span class="o">=</span><span class="p">(</span><span class="n">end_cnt</span><span class="o">-</span><span class="n">start_cnt</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">BOARD_CPU_CLOCK</span><span class="o">/</span><span class="mi">1000</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="compile-and-debug">
<h4>Compile and debug<a class="headerlink" href="#compile-and-debug" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Compile and download</li>
</ul>
<p>Open <code class="docutils literal notranslate"><span class="pre">cmd</span></code> from the folder <em>embarc_osp/arc_labs/labs/lab3_timer</em>, input the compile command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make -j4 run</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If your toolchain is WetaWare, you should use <code class="docutils literal notranslate"><span class="pre">gmake</span></code>.
If you do not use core configuration specified in makefile, you need to pass all the make options to trigger make command</p>
</div>
<ul class="simple">
<li>Output</li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-----------------------------------------------------------</span>
<span class="go">      ____                                _ ____</span>
<span class="go">     |  _ \ _____      _____ _ __ ___  __| | __ ) _   _</span>
<span class="go">     | |_) / _ \ \ /\ / / _ \ &#39;__/ _ \/ _` |  _ \| | | |</span>
<span class="go">     |  __/ (_) \ V  V /  __/ | |  __/ (_| | |_) | |_| |</span>
<span class="go">     |_|   \___/ \_/\_/ \___|_|  \___|\__,_|____/ \__, |</span>
<span class="go">                                                  |___/</span>
<span class="go">                          _       _    ____   ____</span>
<span class="go">            ___ _ __ ___ | |__   / \  |  _ \ / ___|</span>
<span class="go">           / _ \ &#39;_ ` _ \| &#39;_ \ / _ \ | |_) | |</span>
<span class="go">          |  __/ | | | | | |_) / ___ \|  _ &lt;| |___</span>
<span class="go">           \___|_| |_| |_|_.__/_/   \_\_| \_\\____|</span>
<span class="go">     ------------------------------------------------------------</span>

<span class="go">     embARC Build Time: Aug 22 2018, 15:32:54</span>
<span class="go">     Compiler Version: MetaWare, 4.2.1 Compatible Clang 4.0.1 (branches/release_40)</span>
<span class="go">     Does this timer0 exist?  YES</span>
<span class="go">     timer0&#39;s operating mode:0x00000003</span>
<span class="go">     timer0&#39;s limit value :0x00023280</span>
<span class="go">     timer0&#39;s current cnt_number:0x0000c236</span>

<span class="go">     Does this timer1 exist?  YES</span>
<span class="go">     timer1&#39;s operating mode:0x00000000</span>
<span class="go">     timer1&#39;s limit value :0x00000000</span>
<span class="go">     timer1&#39;s current cnt_number:0x00000000</span>

<span class="go">     Does this RTC_timer exist?   NO</span>

<span class="go">     The start_cnt number is:2</span>
<span class="go">     /******** TEST MODE START ********/</span>

<span class="go">     This is TEST CODE.</span>

<span class="go">     This is TEST CODE.</span>

<span class="go">     This is TEST CODE.</span>

<span class="go">     /******** TEST MODE END ********/</span>
<span class="go">     The end_cnt number is:16785931</span>
<span class="go">     The board cpu clock is:144000000</span>

<span class="go">     Total time of TEST CODE BLOCK operation:116</span>
</pre></div>
</div>
<ul class="simple">
<li>Debug</li>
</ul>
<p>Open <code class="docutils literal notranslate"><span class="pre">cmd</span></code> from the folder <em>embarc_osp/arc_labs/labs/lab3_timer</em>, input the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make gui</span>
</pre></div>
</div>
<img alt="debug view 1" src="../../_images/lab3_debug_view_1.png" />
<img alt="debug view 2" src="../../_images/lab3_debug_view_2.png" />
<p>The debug view pops up automatically, the variables and registers can be seen.</p>
</div>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>In the debug view, observe and understand the contents of the interrupt vector table.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Click the Memory button in the debug view Debugger drop-down menu to see the contents of the memory in real time.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lab4.html" class="btn btn-neutral float-right" title="ARC features: interrupts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lab2.html" class="btn btn-neutral" title="How to use embARC OSP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Synopsys

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>